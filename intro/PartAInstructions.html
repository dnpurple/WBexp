{{ block content }}
<div style="text-align: center;">
    <h2><strong>Part A Instructions</strong></h2>
</div>

<br>
<p>Please listen to the instructions below. You can read along while the recording plays.
    Click next to move on when the recording ends. </p>
<div style="text-align: center;">
    <audio id="instructionsAudio" controls autoplay>
        <source src="{% static 'Recordings/PartA.mp3' %}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
</div>
<!-- Wrap the instructions in a div with id="instructionsText" -->
<div id="instructionsText">
    <p>
        This is an experiment in the economics of decision-making. If you follow the instructions carefully,
        you may earn a <strong>considerable amount of money</strong> depending on your decisions and the decisions of others.
        Your earnings will be <strong>paid to you in cash</strong> at the end of the experiment.
    </p>

    <h3>Addition Task</h3>

    <p>In Part A, you will complete an addition task. The addition task consists of adding three 2-digit numbers,
        e.g., 31 + 23 + 45 = ____. You will be given 1 minute to complete as many
        addition problems as possible. You will earn 100 Experimental Currency Units (ECUs)
        for each correct answer. These earnings will be added to earnings from later parts
        of this experiment at an exchange rate of:</p>

    <div style="text-align: center;">
        <p><strong>$1 = 55 ECUs</strong></p>
    </div>

    <p>Please click the next button to start Part A.</p>
</div>

<style>
    .otree-timer {
        background-color: transparent !important;
        color: black !important;
        font-weight: normal;
        border: none;
        padding: 0;
        text-align: right;
    }
</style>

<!-- Initially disable the Next button -->
{{ next_button }}
<script>
// Get the audio element and the Next button
const audio = document.getElementById('instructionsAudio');
const nextButton = document.querySelector('.otree-btn-next');

// Disable the Next button initially
nextButton.disabled = true;

// Enable the Next button when the audio ends
audio.addEventListener('ended', function() {
    nextButton.disabled = false;
});

// If the audio fails to load or play, enable the button to avoid locking the user
audio.addEventListener('error', function() {
    nextButton.disabled = false;
});
</script>

{{ endblock }}

